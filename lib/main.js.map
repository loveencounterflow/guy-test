{
  "version": 3,
  "file": "",
  "sourceRoot": "",
  "sources": [
    "../src/main.coffee"
  ],
  "names": [],
  "mappings": "AAEA;EAAA;AAAA,MAAA,GAAA,EAAA,SAAA,EAAA,IAAA,EAAA,EAAA,EAAA,YAAA,EAAA,kBAAA,EAAA,SAAA,EAAA,SAAA,EAAA,kBAAA,EAAA,+BAAA,EAAA,oBAAA,EAAA,iCAAA,EAAA,KAAA,EAAA,MAAA,EAAA,KAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,OAAA,EAAA,GAAA,EAAA,CAAA,EAAA,GAAA,EAAA,MAAA,EAAA,KAAA,EAAA,MAAA,EAAA,OAAA,EAAA,GAAA,EAAA,QAAA,EAAA,OAAA,EAAA,KAAA,EAAA,IAAA,EAAA,QAAA,EAAA,IAAA,EAAA;;EAEA,GAAA,GAA4B,OAAA,CAAQ,KAAR;;EAC5B,CAAA,CAAE,KAAF,EACE,KADF,EAEE,IAFF,EAGE,IAHF,EAIE,KAJF,EAKE,MALF,EAME,IANF,EAOE,IAPF,EAQE,OARF,CAAA,GAQ4B,GAAG,CAAC,GAAG,CAAC,WAAR,CAAoB,IAApB,CAR5B;;EASA,CAAA,CAAE,GAAF,EACE,OADF,EAEE,IAFF,EAGE,OAHF,EAIE,GAJF,CAAA,GAI4B,GAAG,CAAC,GAJhC;;EAKA,CAAA,CAAE,SAAF,CAAA,GAA4B,OAAA,CAAQ,WAAR,CAA5B;;EACA,SAAA,GAA4B,OAAA,CAAQ,uBAAR;;EAC5B,SAAA,GAA4B,OAAA,CAAQ,qBAAR;;EAC5B,CAAA,CAAE,IAAF,CAAA,GAA4B,GAAG,CAAC,KAAhC;;EACA,EAAA,GAA4B,OAAA,CAAQ,QAAR;;EAC5B,CAAA,CAAE,MAAF,CAAA,GAA4B,EAAE,CAAC,KAA/B;;EACA,CAAA,CAAE,QAAF,CAAA,GAA4B,OAAA,CAAQ,UAAR,CAA5B;;EACA,CAAA,GAA4B,QAAA,CAAA,GAAE,CAAF,CAAA;AAAW,QAAA;WAAC;;AAAE;MAAA,KAAA,mCAAA;;YAA0B;uBAA1B;;MAAA,CAAA;;QAAF,CAAoC,CAAC,IAArC,CAA0C,GAA1C;EAAZ,EAxB5B;;;EA4BA,KAAA,GAA4B,IAAI,SAAJ,CAAA;;EAC5B,CAAA,CAAE,GAAF,EACE,OADF,EAEE,QAFF,EAGE,MAHF,CAAA,GAG4B,KAH5B,EA7BA;;;EAkCA,KAAK,CAAC,OAAN,CACE;IAAA,gBAAA,EACE;MAAA,IAAA,EAAkB,QAAA,CAAE,CAAF,CAAA;eAAS,CAAE,IAAC,CAAA,GAAG,CAAC,QAAL,CAAc,CAAd,CAAF,CAAA,IAAwB,CAAA,GAAI;MAArC;IAAlB,CADF;IAEA,WAAA,EACE;MAAA,MAAA,EACE;QAAA,UAAA,EAAgB,SAAhB;QACA,WAAA,EAAgB,SADhB;QAEA,YAAA,EAAgB,SAFhB;QAGA,UAAA,EAAgB,SAHhB;QAIA,WAAA,EAAgB,SAJhB;QAKA,cAAA,EAAgB,SALhB;QAMA,aAAA,EAAgB,SANhB;QAOA,aAAA,EAAgB,kBAPhB;QAQA,MAAA,EAAgB,MARhB;;;QAWA,eAAA,EAAkB,SAXlB;QAYA,YAAA,EAAkB,SAZlB;QAaA,YAAA,EAAkB,SAblB;QAcA,WAAA,EAAkB;MAdlB,CADF;MAgBA,QAAA,EACE;QAAA,UAAA,EAAgB,KAAhB;QACA,WAAA,EAAgB,IADhB;QAEA,YAAA,EAAgB,IAFhB;QAGA,UAAA,EAAgB,IAHhB;QAIA,WAAA,EAAgB,IAJhB;QAKA,cAAA,EAAgB,KALhB;QAMA,aAAA,EAAgB,KANhB;QAOA,aAAA,EAAgB,GAPhB;QAQA,MAAA,EAAgB,EARhB;;;QAWA,eAAA,EAAkB,KAXlB;QAYA,YAAA,EAAkB,KAZlB;QAaA,YAAA,EAAkB,KAblB;QAcA,WAAA,EAAkB;MAdlB;IAjBF,CAHF;IAmCA,QAAA,EACE;MAAA,MAAA,EACE;QAAA,MAAA,EAAU,UAAV;QACA,KAAA,EAAU;MADV,CADF;MAGA,QAAA,EACE;QAAA,MAAA,EAAU,CAAV;QACA,KAAA,EAAU;MADV;IAJF,CApCF;IA0CA,SAAA,EACE;MADS,mDACT,MAAA,EACE;QAAA,MAAA,EAAU,UAAV;QACA,KAAA,EAAU;MADV,CADF;MAGA,QAAA,EACE;QAAA,MAAA,EAAU,CAAV;QACA,KAAA,EAAU;MADV;IAJF,CA3CF;IAiDA,UAAA,EACE;MAAA,MAAA,EACE;QAAA,eAAA,EAAkB,SAAlB;QACA,YAAA,EAAkB,SADlB;QAEA,YAAA,EAAkB,SAFlB;QAGA,WAAA,EAAkB;MAHlB,CADF;MAKA,QAAA,EACE;QAAA,eAAA,EAAkB,KAAlB;QACA,YAAA,EAAkB,KADlB;QAEA,YAAA,EAAkB,KAFlB;QAGA,WAAA,EAAkB;MAHlB;IANF;EAlDF,CADF,EAlCA;;;;;;;;;EAsGM,eAAN,MAAA,aAAA,CAAA;;IAGE,WAAa,CAAE,IAAF,EAAQ,QAAQ,IAAhB,CAAA;MACX,IAAA,CAAK,IAAL,EAAQ,GAAR,EAAa,IAAb;MACA,IAAA,CAAK,IAAL,EAAQ,QAAR,EAAkB,KAAlB;MACA,IAAA,CAAK,IAAL,EAAQ,QAAR,EAAkB,MAAA,CAAO,QAAP,EAAiB,CAAE,CAAF,EAAK,CAAL,CAAA,GAAA;eAAY,MAAA,CAAO,CAAP,EAAU,CAAV,EAAa,IAAC,CAAA,CAAC,CAAC,GAAhB;MAAZ,CAAjB,CAAlB,EAFJ;;;;;;;AASI,aAAO;IAVI,CADf;;;IAcE,IAAM,CAAE,KAAF,EAAS,GAAT,EAAc,UAAU,IAAxB,CAAA;AACR,UAAA;MAAI,GAAA,GAAQ,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,KAAX;MACR,IAAC,CAAA,CAAC,CAAC,iBAAH,CAAqB,GAArB;MACA,IAAG,IAAC,CAAA,CAAC,CAAC,GAAG,CAAC,WAAV;QACE,IAAG,eAAH;UACE,OAAA,GAAU,IAAC,CAAA,iBAAD,CAAmB,OAAnB;UACV,IAAA,CAAK,GAAL,EAAU,GAAV,EAAe,OAAA,CAAQ,EAAA,CAAA,CAAI,OAAJ,EAAA,CAAR,CAAf,EAFF;SAAA,MAAA;UAIE,IAAA,CAAK,GAAL,EAAU,GAAV,EAJF;SADF;;AAMA,aAAO;IATH,CAdR;;;IA0BE,IAAM,CAAE,KAAF,EAAS,GAAT,EAAc,UAAU,IAAxB,CAAA;AACR,UAAA;MAAI,GAAA,GAAQ,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,KAAX;MACR,IAAC,CAAA,CAAC,CAAC,gBAAH,CAAoB,GAApB;MACA,IAAC,CAAA,CAAC,CAAC,KAAH,CAAS,GAAT,EAAiB,eAAH,GAAiB,CAAA,CAAA,CAAA,CAAI,GAAJ,CAAA,EAAA,CAAA,CAAY,OAAZ,CAAA,CAAjB,GAA4C,GAA1D;MACA,IAAG,IAAC,CAAA,CAAC,CAAC,GAAG,CAAC,UAAV;QACE,IAAG,eAAH;UACE,OAAA,GAAU,IAAC,CAAA,iBAAD,CAAmB,OAAnB;UACV,IAAA,CAAK,GAAL,EAAU,GAAV,EAAe,OAAA,CAAQ,EAAA,CAAA,CAAI,OAAJ,EAAA,CAAR,CAAf,EAFF;SAAA,MAAA;UAIE,IAAA,CAAK,GAAL,EAAU,GAAV,EAJF;SADF;;AAMA,aAAO;IAVH,CA1BR;;;IAuCE,EAAI,CAAE,CAAF,EAAK,OAAL,CAAA;AACN,UAAA,KAAA,EAAA,OAAA,EAAA,GAAA,EAAA,MAAA,EAAA;MAAI,QAAA,GAAY,IAAC,CAAA,CAAC,CAAC,kBAAH,CAAsB,CAAtB;MACZ,GAAA,GAAc,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,QAAX;AAEd;;QAAI,CAAE,MAAA,GAAS,CAAC,CAAC,IAAF,CAAO,IAAP,EAAU,IAAV,CAAX,EAAJ;OAA6B,cAAA;QAAM;QACjC,OAAA,GAAU,CAAA,uCAAA,CAAA,CAA0C,GAAA,CAAI,KAAK,CAAC,OAAV,CAA1C,CAAA;QACV,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,OAAhB,EAAyB,OAAzB;QACA,IAAG,IAAC,CAAA,CAAC,CAAC,GAAG,CAAC,cAAV;UACE,KAAK,CAAC,OAAN,GAAgB;UAAS,MAAM,MADjC;;AAEA,eAAO,KALoB;;MAO7B,IAA+B,IAAC,CAAA,MAAD,CAAQ,MAAR,EAAgB,OAAhB,CAA/B;;AAAA,eAAO,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,IAAhB,EAAP;OAVJ;;MAYI,IAAA,CAAK,GAAL,EAAY,OAAA,CAAQ,OAAR,CAAZ,EAA+B,cAA/B,EAAiD,OAAA,CAAQ,GAAA,GAAM,CAAE,GAAA,CAAI,MAAJ,CAAF,CAAN,GAAyB,GAAjC,CAAjD;MACA,IAAA,CAAK,GAAL,EAAY,OAAA,CAAQ,OAAR,CAAZ,EAA+B,cAA/B,EAAiD,OAAA,CAAQ,GAAA,GAAM,CAAE,GAAA,CAAI,OAAJ,CAAF,CAAN,GAAyB,GAAjC,CAAjD;MACA,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,KAAhB;MACA,IAA6E,IAAC,CAAA,CAAC,CAAC,GAAG,CAAC,aAApF;QAAA,MAAM,IAAI,KAAJ,CAAU,CAAA,kBAAA,CAAA,CAAqB,GAAA,CAAI,MAAJ,CAArB,CAAA,cAAA,CAAA,CAAgD,OAAhD,CAAA,CAAV,EAAN;OAfJ;;AAiBI,aAAO;IAlBL,CAvCN;;;IA4DY,MAAV,QAAU,CAAE,CAAF,EAAK,OAAL,CAAA;AACZ,UAAA,KAAA,EAAA,OAAA,EAAA,GAAA,EAAA,MAAA,EAAA;MAAI,QAAA,GAAY,IAAC,CAAA,CAAC,CAAC,kBAAH,CAAsB,CAAtB;MACZ,GAAA,GAAc,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,QAAX;AAEd;;QAAI,CAAE,MAAA,GAAS,CAAA,MAAM,CAAC,CAAC,IAAF,CAAO,IAAP,EAAU,IAAV,CAAN,CAAX,EAAJ;OAAmC,cAAA;QAAM;QACvC,OAAA,GAAU,CAAA,uCAAA,CAAA,CAA0C,GAAA,CAAI,KAAK,CAAC,OAAV,CAA1C,CAAA;QACV,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,OAAhB,EAAyB,OAAzB;QACA,IAAG,IAAC,CAAA,CAAC,CAAC,GAAG,CAAC,cAAV;UACE,KAAK,CAAC,OAAN,GAAgB;UAAS,MAAM,MADjC;;AAEA,eAAO,KAL0B;;MAOnC,IAA+B,IAAC,CAAA,MAAD,CAAQ,MAAR,EAAgB,OAAhB,CAA/B;;AAAA,eAAO,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,IAAhB,EAAP;OAVJ;;MAYI,IAAA,CAAK,GAAL,EAAY,OAAA,CAAQ,OAAR,CAAZ,EAA+B,cAA/B,EAAiD,OAAA,CAAQ,GAAA,GAAM,CAAE,GAAA,CAAI,MAAJ,CAAF,CAAN,GAAyB,GAAjC,CAAjD;MACA,IAAA,CAAK,GAAL,EAAY,OAAA,CAAQ,OAAR,CAAZ,EAA+B,cAA/B,EAAiD,OAAA,CAAQ,GAAA,GAAM,CAAE,GAAA,CAAI,OAAJ,CAAF,CAAN,GAAyB,GAAjC,CAAjD;MACA,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,KAAhB;MACA,IAA6E,IAAC,CAAA,CAAC,CAAC,GAAG,CAAC,aAApF;QAAA,MAAM,IAAI,KAAJ,CAAU,CAAA,kBAAA,CAAA,CAAqB,GAAA,CAAI,MAAJ,CAArB,CAAA,cAAA,CAAA,CAAgD,OAAhD,CAAA,CAAV,EAAN;OAfJ;;AAiBI,aAAO;IAlBC,CA5DZ;;;IAiFE,MAAQ,CAAE,CAAF,EAAK,OAAL,CAAA;AACV,UAAA,KAAA,EAAA,YAAA,EAAA,GAAA,EAAA;MAAI,QAAA,GAAY,IAAC,CAAA,CAAC,CAAC,kBAAH,CAAsB,CAAtB;MACZ,GAAA,GAAc,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,QAAX;MACd,KAAA,GAAY;AAEZ;;QAAM,IAAA,CAAO,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,QAAX,EAAqB,SAArB,CAAP,EAAyC,4BAAzC,EAAuE,GAAA,CAAI,CAAC,CAAC,IAAF,CAAO,IAAP,EAAU,IAAV,CAAJ,CAAvE,EAAN;OAA+F,cAAA;QAAM;QACnG,IAAO,eAAP;UACE,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,UAAhB,EAA4B,KAAK,CAAC,OAAlC;AACA,iBAAO,KAFT;SAAN;;AAIM,gBAAO,YAAA,GAAe,IAAC,CAAA,CAAC,CAAC,YAAH,CAAgB,KAAhB,EAAuB,OAAvB,CAAtB;AAAA,eACO,IADP;YAEI,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,UAAhB,EAA4B,KAAK,CAAC,OAAlC;AADG;AADP,eAGO,KAHP;YAII,IAAA,CAAO,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,QAAX,EAAqB,SAArB,CAAP,EAAyC,eAAzC,EAA0D,OAAA,CAAQ,KAAK,CAAC,OAAd,CAA1D;AAAiF,kDACjF,IAAA,CAAO,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,QAAX,EAAqB,SAArB,CAAP,EAAyC,eAAzC,EAA0D,OAAA,CAAQ,GAAA,CAAI,OAAJ,CAAR,CAA1D;YACA,IAAC,CADgF,0BAChF,IAAD,CAAM,QAAN,EAAgB,KAAhB,EAAuB,CAAA,MAAA,CAAA,CAAS,GAAA,CAAI,KAAK,CAAC,OAAV,CAAT,CAAA,eAAA,CAAA,CAA4C,GAAA,CAAI,OAAJ,CAA5C,CAAA,CAAvB;AAHG;AAHP;YAQI,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,MAAhB,EAAwB,CAAA,kCAAA,CAAA,CAAqC,YAArC,CAAA,CAAxB;AARJ,SAL6F;OAJnG;;MAmBI,IAAO,aAAP;QACE,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,OAAhB,EAAyB,uCAAzB,EADF;OAnBJ;;AAsBI,aAAO;IAvBD,CAjFV;;;IA2GgB,MAAd,YAAc,CAAE,CAAF,EAAK,OAAL,CAAA,EAAA;;;;;;;;;;;;AAYhB,UAAA,KAAA,EAAA,YAAA,EAAA,GAAA,EAAA,MAAA,EAAA;MAAI,QAAA,GAAY,IAAC,CAAA,CAAC,CAAC,kBAAH,CAAsB,CAAtB;MACZ,GAAA,GAAc,CAAA,CAAE,IAAC,CAAA,MAAH,EAAW,QAAX;MACd,KAAA,GAAY;AAEZ;;QACE,MAAA,GAAS,CAAA,MAAM,CAAC,CAAC,IAAF,CAAO,IAAP,EAAU,IAAV,CAAN,EADX;OAGA,cAAA;;QAAM,eACV;;QACM,IAAO,eAAP;UACE,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,UAAhB,EAA4B,CAAA,UAAA,CAAA,CAAa,GAAA,CAAI,KAAK,CAAC,OAAV,CAAb,CAAA,CAA5B;AACA,iBAAO,KAFT;SADN;;AAKM,gBAAO,YAAA,GAAe,IAAC,CAAA,CAAC,CAAC,YAAH,CAAgB,KAAhB,EAAuB,OAAvB,CAAtB;AAAA,eACO,IADP;YAEI,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,UAAhB,EAA4B,CAAA,UAAA,CAAA,CAAa,GAAA,CAAI,KAAK,CAAC,OAAV,CAAb,CAAA,CAA5B;AADG;AADP,eAGO,KAHP;YAII,IAAA,CAAK,CAAA,CAAA,CAAG,GAAH,CAAA,sBAAA,CAAL,EAAqC,OAAA,CAAQ,KAAK,CAAC,OAAd,CAArC;YACA,IAAA,CAAK,CAAA,CAAA,CAAG,GAAH,CAAA,sBAAA,CAAL,EAAqC,OAAA,CAAQ,GAAA,CAAI,OAAJ,CAAR,CAArC;YACA,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,WAAhB,EAA6B,CAAA,wBAAA,CAAA,CAA2B,GAAA,CAAI,KAAK,CAAC,OAAV,CAA3B,CAAA,CAA7B;AAHG;AAHP;YAQI,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,MAAhB,EAAwB,CAAA,8CAAA,CAAA,CAAiD,YAAjD,CAAA,CAAxB;AARJ,SANF;OAPJ;;MAuBI,IAAO,aAAP;QACE,IAAC,CAAA,IAAD,CAAM,QAAN,EAAgB,SAAhB,EAA2B,CAAA,0DAAA,CAAA,CAA6D,GAAA,CAAI,MAAJ,CAA7D,CAAA,CAA3B,EADF;OAvBJ;;AA0BI,aAAO;IAtCK,CA3GhB;;;IAoJE,YAAc,CAAE,KAAF,EAAS,OAAT,CAAA;AAChB,UAAA;AAAI,cAAO,YAAA,GAAe,OAAA,CAAQ,OAAR,CAAtB;AAAA,aACO,MADP;AAEI,iBAAO,KAAK,CAAC,OAAN,KAAiB;AAF5B,aAGO,OAHP;UAII,OAAO,CAAC,SAAR,GAAoB;AACpB,iBAAO,OAAO,CAAC,IAAR,CAAa,KAAK,CAAC,OAAnB;AALX;AAMA,aAAO;IAPK,CApJhB;;;IA8JE,iBAAmB,CAAE,OAAF,CAAA;aAAe,CAAE,QAAA,CAAS,OAAT,EAAkB,IAAC,CAAA,CAAC,CAAC,GAAG,CAAC,aAAzB,CAAF,CAA0C,CAAC,OAA3C,CAAA;IAAf;;EAhKrB,EAtGA;;;EA2QM,OAAN,MAAA,KAAA,QAAmB,aAAnB,CAAA;;IAGE,WAAa,CAAE,GAAF,CAAA;WACX,CAAM,IAAN;MAAY,IAAC,CAAA,CAAD,GAAK;MACjB,IAAC,CAAA,GAAD,GAAO,MAAM,CAAC,MAAP,CAAc,MAAM,CAAC,WAAP,CAAmB,GAAnB,CAAd;MACP,IAAC,CAAA,MAAD,GAAU,MAAM,CAAC,SAAP,CAAA,EAFd;;MAII,IAAA,CAAK,IAAL,EAAQ,MAAR,EAAwB,MAAA,CAAO,MAAP,EAAwB,CAAA,GAAE,CAAF,CAAA,GAAA;eAAkB,IAAC,CAAA,KAAD,CAAgB,GAAA,CAAhB;MAAlB,CAAxB,CAAxB;MACA,IAAA,CAAK,IAAL,EAAQ,YAAR,EAAwB,MAAA,CAAO,YAAP,EAAwB,KAAA,CAAA,GAAE,CAAF,CAAA,GAAA;eAAY,CAAA,MAAM,IAAC,CAAA,WAAD,CAAgB,GAAA,CAAhB,CAAN;MAAZ,CAAxB,CAAxB;MACA,IAAA,CAAK,IAAL,EAAQ,QAAR,EAAwB,MAAA,CAAO,QAAP,EAAwB,CAAA,GAAE,CAAF,CAAA,GAAA;eAAkB,IAAC,CAAA,OAAD,CAAgB,GAAA,CAAhB;MAAlB,CAAxB,CAAxB,EANJ;;MAQI,IAAA,CAAK,IAAL,EAAQ,cAAR,EAAmD,gBAAnD;MACA,IAAA,CAAK,IAAL,EAAQ,OAAR,EAAgD;QAAE,GAAA,EAAK,IAAC,CAAA;MAAR,CAAhD;MACA,IAAA,CAAK,IAAL,EAAQ,UAAR,EAAgD,CAAA,CAAhD;AACA,aAAO;IAZI,CADf;;;IAgBE,KAAO,CAAA,GAAE,KAAF,CAAA;MACL,IAAC,CAAA,WAAD,CAAa,IAAb,EAAmB,GAAA,KAAnB;MACA,IAAa,IAAC,CAAA,GAAG,CAAC,WAAlB;QAAA,IAAC,CAAA,MAAD,CAAA,EAAA;;AACA,aAAO,IAAC,CAAA;IAHH,CAhBT;;;IAsBe,MAAb,WAAa,CAAA,GAAE,KAAF,CAAA;MACX,MAAM,IAAC,CAAA,iBAAD,CAAmB,IAAnB,EAAyB,GAAA,KAAzB;MACN,IAAa,IAAC,CAAA,GAAG,CAAC,WAAlB;QAAA,IAAC,CAAA,MAAD,CAAA,EAAA;;AACA,aAAO,IAAC,CAAA;IAHG,CAtBf;;;IA4BE,WAAa,CAAE,KAAF,EAAA,GAAS,KAAT,CAAA;AACf,UAAA,SAAA,EAAA,GAAA,EAAA,KAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,QAAA,EAAA,GAAA;;MACI,KAAA,uCAAA;;AAA4B,gBAAO,IAAP;;AAAA,eAErB,GAAG,CAAC,QAAJ,CAAa,SAAb,CAFqB;AAGxB;cACE,GAAA,GAAM,IAAI,YAAJ,CAAiB,IAAjB,EAAoB,KAApB;cACN,SAAS,CAAC,IAAV,CAAe,GAAf,EAAoB,GAApB,EAFF;aAGA,cAAA;cAAM;cACJ,GAAA,GAAY,CAAA,CAAE,KAAF,EAAS,SAAT;cACZ,OAAA,GAAU,CAAA,+CAAA,CAAA,CAAkD,GAAA,CAAI,GAAJ,CAAlD,GAAA,CAAA,CAA8D,GAAA,CAAI,KAAK,CAAC,OAAV,CAA9D,CAAA;cACV,IAAC,CAAA,IAAD,CAAM,GAAN,EAAW,OAAX,EAAoB,OAApB;cACA,IAAG,IAAC,CAAA,GAAG,CAAC,cAAR;gBACE,KAAK,CAAC,OAAN,GAAgB;gBAAS,MAAM,MADjC;eAJF;;AAJG;;AAFqB,eAarB,GAAG,CAAC,MAAJ,CAAW,SAAX,CAbqB;YAcxB,KAAA,gBAAA;;cACE,IAAC,CAAA,WAAD,CAAe,CAAA,CAAE,KAAF,EAAS,GAAT,CAAf,EAA+B,QAA/B;YADF;AADG;;AAbqB,eAiBjB,iBAjBiB;YAkBxB,GAAA,GAAY,CAAA,CAAE,KAAF,EAAS,SAAT;YACZ,IAAC,CAAA,IAAD,CAAM,GAAN,EAAW,SAAX,EAAsB,CAAA,uBAAA,CAAA,CAA0B,OAAA,CAAQ,SAAR,CAA1B,CAAA,CAAtB;AAFG;AAjBqB;;YAsBxB,GAAA,GAAQ,CAAA,CAAE,KAAF,EAAS,IAAC,CAAA,kBAAD,CAAoB,SAApB,CAAT;YACR,IAAC,CAAA,IAAD,CAAM,GAAN,EAAW,MAAX,EAAmB,CAAA,uBAAA,CAAA,CAA0B,OAAA,CAAQ,SAAR,CAA1B,CAAA,CAAnB;AAvBwB;MAA5B,CADJ;;AA0BI,aAAO;IA3BI,CA5Bf;;;IA0DqB,MAAnB,iBAAmB,CAAE,KAAF,EAAA,GAAS,KAAT,CAAA;AACrB,UAAA,SAAA,EAAA,GAAA,EAAA,KAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,QAAA,EAAA;MAAI,KAAA,uCAAA;;AAA4B,gBAAO,IAAP;;AAAA,eAErB,GAAG,CAAC,QAAJ,CAAa,SAAb,CAFqB;YAGxB,MAAM,IAAC,CAAA,WAAD,CAAa,KAAb,EAAoB,SAApB;AADH;;AAFqB,eAKrB,GAAG,CAAC,aAAJ,CAAkB,SAAlB,CALqB;AAMxB;cACE,GAAA,GAAM,IAAI,YAAJ,CAAiB,IAAjB,EAAoB,KAApB;cACN,MAAM,SAAS,CAAC,IAAV,CAAe,GAAf,EAAoB,GAApB,EAFR;aAGA,cAAA;cAAM;cACJ,GAAA,GAAY,CAAA,CAAE,KAAF,EAAS,SAAT;cACZ,OAAA,GAAU,CAAA,+CAAA,CAAA,CAAkD,GAAA,CAAI,GAAJ,CAAlD,GAAA,CAAA,CAA8D,GAAA,CAAI,KAAK,CAAC,OAAV,CAA9D,CAAA;cACV,IAAC,CAAA,IAAD,CAAM,GAAN,EAAW,OAAX,EAAoB,OAApB;cACA,IAAG,IAAC,CAAA,GAAG,CAAC,cAAR;gBACE,KAAK,CAAC,OAAN,GAAgB;gBAAS,MAAM,MADjC;eAJF;;AAJG;;AALqB,eAgBrB,GAAG,CAAC,MAAJ,CAAW,SAAX,CAhBqB;YAiBxB,KAAA,gBAAA;;cACE,MAAM,IAAC,CAAA,iBAAD,CAAqB,CAAA,CAAE,KAAF,EAAS,GAAT,CAArB,EAAqC,QAArC;YADR;AADG;AAhBqB;;YAqBxB,GAAA,GAAQ,CAAA,CAAE,KAAF,EAAS,IAAC,CAAA,kBAAD,CAAoB,SAApB,CAAT;YACR,IAAC,CAAA,IAAD,CAAM,GAAN,EAAW,MAAX,EAAmB,CAAA,uBAAA,CAAA,CAA0B,OAAA,CAAQ,SAAR,CAA1B,CAAA,CAAnB;AAtBwB;MAA5B,CAAJ;;AAwBI,aAAO;IAzBU,CA1DrB;;;IAsFE,OAAS,CAAA,CAAA;AACX,UAAA,IAAA,EAAA,KAAA,EAAA,IAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,IAAA,EAAA,OAAA,EAAA,QAAA,EAAA,GAAA,EAAA,IAAA,EAAA,IAAA,EAAA,aAAA,EAAA,WAAA,EAAA,KAAA,EAAA;MAAI,CAAA,CAAE,IAAF,EACE,GADF,EAEE,IAFF,CAAA,GAEc,GAAG,CAAC,GAFlB;MAGA,IAAA,GAAc,IAAA,CAAK,mEAAL,EAHlB;;MAKI,WAAA,GAAc,CAAA,CAAA,GAAA;QACZ,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAkC,IAAlC;QACA,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAkC,OAAA,CAAQ,GAAG,CAAC,GAAG,CAAE,KAAF,CAAP,CAAmB,GAAG,CAAC,MAAJ,CAAW,EAAX,CAAnB,EAAoC,IAAC,CAAA,MAArC,CAAR,CAAlC;QACA,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAkC,IAAlC;AACA,eAAO;MAJK,EALlB;;MAWI,OAAA,CAAA;MACA,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAkC,IAAlC;MACA,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAkC,IAAA,CAAK,wCAAL,CAAlC;MACA,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAkC,IAAlC;MACA,KAAA,GAAW,IAAC,CAAA,MAAM,CAAC,KAAR,KAAiB,CAApB,GAA2B,MAA3B,GAAuC;AAC/C;MAAA,KAAA,WAAA;;QACE,IAAY,GAAA,KAAO,GAAnB;AAAA,mBAAA;;QACA,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAkC,IAAA,CAAO,GAAG,CAAC,MAAJ,CAAW,EAAX,CAAP,EAAwB,KAAxB,CAAlC;MAFF;MAGA,WAAA,CAAA;MACA,aAAA,GAAgB;AAChB;MAAA,KAAA,eAAA;;QACE,aAAA,GAAgB;QAChB,KAAA,0CAAA;;UACE,OAAA,CAAQ,UAAA,GAAa,IAAC,CAAA,GAAG,CAAC,MAA1B,EAAoC,GAAA,CAAI,OAAJ,CAApC,EAAmD,OAAA,CAAQ,GAAA,CAAI,EAAA,CAAA,CAAI,OAAJ,EAAA,CAAJ,CAAR,CAAnD;QADF;MAFF;MAIA,IAAiB,aAAjB;QAAA,WAAA,CAAA,EAAA;;MACA,OAAA,CAAA,EA1BJ;;AA4BI,aAAO,IAAC,CAAA;IA7BD,CAtFX;;;IAsHE,iBAAoB,CAAE,SAAF,CAAA;aAAiB,IAAC,CAAA,UAAD,CAAY,QAAZ,EAAsB,SAAtB;IAAjB;;IACpB,gBAAoB,CAAE,SAAF,CAAA;aAAiB,IAAC,CAAA,UAAD,CAAY,OAAZ,EAAsB,SAAtB;IAAjB,CAvHtB;;;IA0HE,UAAY,CAAE,YAAF,EAAgB,SAAhB,CAAA;AACd,UAAA,IAAA,EAAA;MAAI,eAAA,gDAAwB,CAAE,SAAF,QAAA,CAAE,SAAF,IAAiB,MAAM,CAAC,QAAP,CAAA;MACzC,eAAe,CAAG,YAAH,CAAf;MACA,IAAC,CAAA,MAAM,CAAW,YAAX,CAAP;AACA,aAAO;IAJG,CA1Hd;;;IAiIE,KAAO,CAAE,GAAF,EAAO,OAAP,CAAA;AACT,UAAA;MAAI,2CAAW,CAAE,GAAF,QAAA,CAAE,GAAF,IAAW,EAAtB,CAA0B,CAAC,IAA3B,mBAAkC,UAAU,KAA5C;AACA,aAAO;IAFF,CAjIT;;;IAsIE,kBAAoB,CAAE,CAAF,CAAA;AACtB,UAAA;MAAI,IAAc,CAAE,CAAA,GAAI,CAAC,CAAC,IAAR,CAAA,KAAkB,EAAhC;QAAA,CAAA,GAAI,OAAJ;OAAJ;;AAEI,aAAO;IAHW;;EAxItB,EA3QA;;;;;EA6ZA,MAAA,GAAS,QAAA,CAAE,CAAF,EAAK,CAAL,EAAQ,GAAR,CAAA;AACT,QAAA,CAAA,EAAA,CAAA,EAAA;IAAE,GAAA,GAAM,kBAAA,CAAmB,GAAnB;IAEN,IAAe,CAAE,CAAI,GAAG,CAAC,WAAV,CAAA,IAA4B,CAAE,CAAA,KAAK,CAAP,CAA5B,IAA2C,CAAE,CAAA,KAAK,CAAP,CAA1D;;AAAA,aAAO,KAAP;;IACA,IAAoB,CAAE,SAAA,GAAY,OAAA,CAAQ,CAAR,CAAd,CAAA,KAA6B,CAAE,OAAA,CAAQ,CAAR,CAAF,CAAjD;AAAA,aAAO,MAAP;;IACA,IAAK,SAAA,KAAa,KAAlB;MACE,IAAuD,GAAG,CAAC,YAA3D;AAAA,eAAO,+BAAA,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,GAAzC,EAAP;;AACA,aAAO,iCAAA,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,GAAzC,EAFT;;IAGA,IAAK,SAAA,KAAa,KAAlB;MACE,IAAuD,GAAG,CAAC,YAA3D;AAAA,eAAO,+BAAA,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,GAAzC,EAAP;;AACA,aAAO,iCAAA,CAAmC,CAAnC,EAAsC,CAAtC,EAAyC,GAAzC,EAFT;;IAGA,CAAA,GAAI,SAAA,CAAU,CAAV,EAAa,CAAb,EAVN;;;IAaE,IAAG,CAAA,IAAM,GAAG,CAAC,eAAV,IAA8B,CAAE,SAAA,CAAU,CAAV,CAAF,CAAA,KAAmB,QAApD;AACE,aAAO,SAAA;;AAAY;QAAA,KAAA,MAAA;cAAkB,CAAA,KAAO;yBAAzB;;QAAA,CAAA;;UAAZ;;AAAwD;QAAA,KAAA,MAAA;cAAkB,CAAA,KAAO;yBAAzB;;QAAA,CAAA;;UAAxD,EADT;KAbF;;AAgBE,WAAO;EAjBA,EA7ZT;;;EAgbA,oBAAA,GAAuB,QAAA,CAAE,UAAF,EAAc,OAAd,EAAuB,GAAvB,CAAA;AACvB,QAAA;IAAE,KAAA,uBAAA;MACE,IAAG,MAAA,CAAO,SAAP,EAAkB,OAAlB,EAA2B,GAA3B,CAAH;AACE,eAAO,KADT;;IADF;AAGA,WAAO;EAJc,EAhbvB;;;EAsbA,+BAAA,GAAkC,QAAA,CAAE,CAAF,EAAK,CAAL,EAAQ,GAAR,CAAA;AAClC,QAAA,OAAA,EAAA,YAAA,EAAA;IACE,IAAoB,CAAC,CAAC,IAAF,KAAU,CAAC,CAAC,IAAhC;;AAAA,aAAO,MAAP;;IACA,GAAA,GAAM,CAAC;IACP,YAAA,GAAe,CAAE,GAAA,CAAF;IACf,KAAA,YAAA;MACE,GAAA;MACA,KAAoB,MAAA,CAAO,OAAP,EAAgB,YAAY,CAAE,GAAF,CAA5B,EAAqC,GAArC,CAApB;AAAA,eAAO,MAAP;;IAFF;AAGA,WAAO;EARyB,EAtblC;;;EAgcA,iCAAA,GAAoC,QAAA,CAAE,CAAF,EAAK,CAAL,EAAQ,GAAR,CAAA;AACpC,QAAA;IACE,IAAoB,CAAC,CAAC,IAAF,KAAU,CAAC,CAAC,IAAhC;;AAAA,aAAO,MAAP;;IACA,KAAA,YAAA;MACE,KAAoB,oBAAA,CAAqB,CAArB,EAAwB,OAAxB,EAAiC,GAAjC,CAApB;AAAA,eAAO,MAAP;;IADF;AAEA,WAAO;EAL2B,EAhcpC;;;EAucA,kBAAA,GAAqB,QAAA,CAAE,GAAF,CAAA;AACrB,QAAA;IAAE,IAAY,yCAAZ;AAAA,aAAO,EAAP;;IACA,kBAAkB,CAAC,GAAnB,CAAuB,GAAvB,EAA4B,CAAA,GAAI,MAAM,CAAC,UAAP,CAAkB,GAAlB,CAAhC;AACA,WAAO;EAHY,EAvcrB;;;EA4cA,kBAAA,GAAqB,IAAI,GAAJ,CAAA,EA5crB;;;EAgdA,MAAM,CAAC,OAAP,GAAiB;IAAE,IAAF;IAAQ,YAAR;IAAsB,MAAtB;IAA8B,MAAA,EAAQ;EAAtC;AAhdjB",
  "sourcesContent": [
    "\n\n'use strict'\n\nGUY                       = require 'guy'\n{ alert\n  debug\n  help\n  info\n  plain\n  praise\n  urge\n  warn\n  whisper }               = GUY.trm.get_loggers 'GT'\n{ rpr\n  inspect\n  echo\n  reverse\n  log     }               = GUY.trm\n{ Intertype }             = require 'intertype'\n_jkequals                 = require '../deps/jkroso-equals'\n_jktypeof                 = require '../deps/jkroso-type'\n{ hide }                  = GUY.props\nWG                        = require 'webguy'\n{ nameit }                = WG.props\n{ to_width }              = require 'to-width'\nj                         = ( P... ) -> ( crumb for crumb in P when crumb? ).join '.'\n\n\n#===========================================================================================================\ntypes                     = new Intertype\n{ isa\n  type_of\n  validate\n  create                } = types\n#...........................................................................................................\ntypes.declare\n  gt_message_width:\n    test:             ( x ) -> ( @isa.cardinal x ) and x > 2\n  gt_test_cfg:\n    fields:\n      auto_reset:     'boolean'\n      show_report:    'boolean'\n      show_results:   'boolean'\n      show_fails:     'boolean'\n      show_passes:    'boolean'\n      throw_on_error: 'boolean'\n      throw_on_fail:  'boolean'\n      message_width:  'gt_message_width'\n      prefix:         'text'\n      #.....................................................................................................\n      # these should be mixed-in from `equals_cfg`_\n      ordered_objects:  'boolean'\n      ordered_sets:     'boolean'\n      ordered_maps:     'boolean'\n      signed_zero:      'boolean'\n    template:\n      auto_reset:     false\n      show_report:    true\n      show_results:   true\n      show_fails:     true\n      show_passes:    true\n      throw_on_error: false\n      throw_on_fail:  false\n      message_width:  300\n      prefix:         ''\n      #.....................................................................................................\n      # these should be mixed-in from `equals_cfg`_\n      ordered_objects:  false\n      ordered_sets:     false\n      ordered_maps:     false\n      signed_zero:      false\n  gt_stats:\n    fields:\n      passes:   'cardinal'\n      fails:    'cardinal'\n    template:\n      passes:   0\n      fails:    0\n  gt_totals: ### TAINT use inheritance to derive shared fields ###\n    fields:\n      passes:   'cardinal'\n      fails:    'cardinal'\n    template:\n      passes:   0\n      fails:    0\n  equals_cfg:\n    fields:\n      ordered_objects:  'boolean'\n      ordered_sets:     'boolean'\n      ordered_maps:     'boolean'\n      signed_zero:      'boolean'\n    template:\n      ordered_objects:  false\n      ordered_sets:     false\n      ordered_maps:     false\n      signed_zero:      false\n  # gt_report_cfg:\n  #   fields:\n  #     prefix:   'text'\n  #   template:\n  #     prefix:   ''\n\n#===========================================================================================================\nclass _Assumptions\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( host, upref = null ) ->\n    hide @, '_', host\n    hide @, '_upref', upref\n    hide @, 'equals', nameit 'equals', ( a, b ) => equals a, b, @_.cfg\n    # hide @, 'pass',         nameit 'pass',          ( P... ) =>       @_pass          P...\n    # hide @, 'fail',         nameit 'fail',          ( P... ) =>       @_fail          P...\n    # hide @, 'eq',           nameit 'eq',            ( P... ) =>       @_eq            P...\n    # hide @, 'async_eq',     nameit 'async_eq',      ( P... ) =>       @_async_eq      P...\n    # hide @, 'throws',       nameit 'throws',        ( P... ) =>       @_throws        P...\n    # hide @, 'async_throws', nameit 'async_throws',  ( P... ) => await @_async_throws  P...\n    return undefined\n\n  #=========================================================================================================\n  pass: ( upref, cat, message = null ) ->\n    ref = ( j @_upref, upref )\n    @_._increment_passes ref\n    if @_.cfg.show_passes\n      if message?\n        message = @_to_message_width message\n        help ref, cat, reverse \" #{message} \"\n      else\n        help ref, cat\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  fail: ( upref, cat, message = null ) ->\n    ref = ( j @_upref, upref )\n    @_._increment_fails ref\n    @_._warn ref, if message? then \"(#{cat}) #{message}\" else cat\n    if @_.cfg.show_fails\n      if message?\n        message = @_to_message_width message\n        warn ref, cat, reverse \" #{message} \"\n      else\n        warn ref, cat\n    return null\n\n  #=========================================================================================================\n  eq: ( f, matcher ) ->\n    shortref  = @_._ref_from_function f\n    ref       = ( j @_upref, shortref )\n    #.......................................................................................................\n    try ( result = f.call @, @ ) catch error\n      message = \"expected a result but got an an error: #{rpr error.message}\"\n      @fail shortref, 'error', message\n      if @_.cfg.throw_on_error\n        error.message = message; throw error\n      return null\n    #.......................................................................................................\n    return @pass shortref, 'eq' if @equals result, matcher\n    #.......................................................................................................\n    warn ref, ( reverse ' neq ' ), \"result:     \", ( reverse ' ' + ( rpr result   ) + ' ' )\n    warn ref, ( reverse ' neq ' ), \"matcher:    \", ( reverse ' ' + ( rpr matcher  ) + ' ' )\n    @fail shortref, 'neq'\n    throw new Error \"neq:\\nresult:     #{rpr result}\\nmatcher:    #{matcher}\" if @_.cfg.throw_on_fail\n    #.......................................................................................................\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  async_eq: ( f, matcher ) ->\n    shortref  = @_._ref_from_function f\n    ref       = ( j @_upref, shortref )\n    #.......................................................................................................\n    try ( result = await f.call @, @ ) catch error\n      message = \"expected a result but got an an error: #{rpr error.message}\"\n      @fail shortref, 'error', message\n      if @_.cfg.throw_on_error\n        error.message = message; throw error\n      return null\n    #.......................................................................................................\n    return @pass shortref, 'eq' if @equals result, matcher\n    #.......................................................................................................\n    warn ref, ( reverse ' neq ' ), \"result:     \", ( reverse ' ' + ( rpr result   ) + ' ' )\n    warn ref, ( reverse ' neq ' ), \"matcher:    \", ( reverse ' ' + ( rpr matcher  ) + ' ' )\n    @fail shortref, 'neq'\n    throw new Error \"neq:\\nresult:     #{rpr result}\\nmatcher:    #{matcher}\" if @_.cfg.throw_on_fail\n    #.......................................................................................................\n    return null\n\n  #=========================================================================================================\n  throws: ( f, matcher ) ->\n    shortref  = @_._ref_from_function f\n    ref       = ( j @_upref, shortref )\n    error     = null\n    #.......................................................................................................\n    try ( urge ( j @_upref, shortref, 'Ωgt___1' ), \"`throws()` result of call:\", rpr f.call @, @ ) catch error\n      unless matcher?\n        @pass shortref, 'error ok', error.message\n        return null\n      #.....................................................................................................\n      switch matcher_type = @_._match_error error, matcher\n        when true\n          @pass shortref, 'error ok', error.message\n        when false\n          urge ( j @_upref, shortref, 'Ωgt___2' ), \"error        \", reverse error.message  ### TAINT to be replaced ###\n          warn ( j @_upref, shortref, 'Ωgt___3' ), \"doesn't match\", reverse rpr matcher    ### TAINT to be replaced ###\n          @fail shortref, 'neq', \"error #{rpr error.message} doesn't match #{rpr matcher}\"\n        else\n          @fail shortref, 'type', \"expected a regex or a text, got a #{matcher_type}\"\n    #.......................................................................................................\n    unless error?\n      @fail shortref, 'noerr', \"expected an error but none was thrown\"\n    #.......................................................................................................\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  async_throws: ( f, matcher ) -> # new Promise ( resolve, reject ) =>\n    ###\n\n    * needs `f` to be an `asyncfunction` (although `function` will also work? better check anyway?)\n    * uses `try` / `except` clause to `await` `result` of calling `f`\n    * in case `result` is delivered, that's an error\n    * otherwise an `error` will be caught;\n      * success when `matcher` is missing, or else, when `matcher` describes `error.message`;\n      * failure otherwise\n\n    ###\n    ### TAINT check whether `f` is `asyncfunction`? ###\n    shortref  = @_._ref_from_function f\n    ref       = ( j @_upref, shortref )\n    error     = null\n    #.......................................................................................................\n    try\n      result = await f.call @, @\n    #.......................................................................................................\n    catch error\n      #.....................................................................................................\n      unless matcher?\n        @pass shortref, 'error ok', \"did throw #{rpr error.message}\"\n        return null\n      #.....................................................................................................\n      switch matcher_type = @_._match_error error, matcher\n        when true\n          @pass shortref, 'error ok', \"did throw #{rpr error.message}\"\n        when false\n          urge \"#{ref}.Ωgt___4 error        \", reverse error.message\n          warn \"#{ref}.Ωgt___5 doesn't match\", reverse rpr matcher\n          @fail shortref, 'error nok', \"did throw but not match #{rpr error.message}\"\n        else\n          @fail shortref, 'fail', \"expected a regex or a text for matcher, got a #{matcher_type}\"\n    #.......................................................................................................\n    unless error?\n      @fail shortref, 'missing', \"expected an error but none was thrown, instead got result #{rpr result}\"\n    #.......................................................................................................\n    return null\n\n  #=========================================================================================================\n  _match_error: ( error, matcher ) ->\n    switch matcher_type = type_of matcher\n      when 'text'\n        return error.message is matcher\n      when 'regex'\n        matcher.lastIndex = 0\n        return matcher.test error.message\n    return matcher_type\n\n  #---------------------------------------------------------------------------------------------------------\n  _to_message_width: ( message ) -> ( to_width message, @_.cfg.message_width ).trimEnd()\n\n\n\n#===========================================================================================================\nclass Test extends _Assumptions\n\n  #---------------------------------------------------------------------------------------------------------\n  constructor: ( cfg ) ->\n    super null; @_ = @\n    @cfg = Object.freeze create.gt_test_cfg cfg\n    @totals = create.gt_totals()\n    #.......................................................................................................\n    hide @, 'test',         nameit 'test',          ( P... ) =>       @_test          P...\n    hide @, 'async_test',   nameit 'async_test',    ( P... ) => await @_async_test    P...\n    hide @, 'report',       nameit 'report',        ( P... ) =>       @_report        P...\n    #.......................................................................................................\n    hide @, '_KW_test_ref',                            '██_KW_test_ref'\n    hide @, 'stats',                                { '*': @totals, }\n    hide @, 'warnings',                             {}\n    return undefined\n\n  #---------------------------------------------------------------------------------------------------------\n  _test: ( tests... ) ->\n    @_test_inner null, tests...\n    @report() if @cfg.show_report\n    return @stats\n\n  #---------------------------------------------------------------------------------------------------------\n  _async_test: ( tests... ) ->\n    await @_async_test_inner null, tests...\n    @report() if @cfg.show_report\n    return @stats\n\n  #---------------------------------------------------------------------------------------------------------\n  _test_inner: ( upref, tests... ) ->\n    ### TAINT preliminary handling of arguments ###\n    for candidate in tests then switch true\n      #.....................................................................................................\n      when isa.function candidate\n        try\n          ctx = new _Assumptions @, upref\n          candidate.call ctx, ctx\n        catch error\n          ref     = ( j upref, 'Ωgt___6' )\n          message = \"an unexpected error occurred when calling task #{rpr ref}; #{rpr error.message}\"\n          @fail ref, 'error', message\n          if @cfg.throw_on_error\n            error.message = message; throw error\n      #.....................................................................................................\n      when isa.object candidate\n        for key, property of candidate\n          @_test_inner ( j upref, key ), property\n      #.....................................................................................................\n      when not candidate?\n        ref     = ( j upref, 'Ωgt___7' )\n        @fail ref, 'missing', \"expected a test, got a #{type_of candidate}\"\n      #.....................................................................................................\n      else\n        ref = ( j upref, @_ref_from_function candidate )\n        @fail ref, 'type', \"expected a test, got a #{type_of candidate}\"\n    #.......................................................................................................\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  _async_test_inner: ( upref, tests... ) ->\n    for candidate in tests then switch true\n      #.....................................................................................................\n      when isa.function candidate\n        await @_test_inner upref, candidate\n      #.....................................................................................................\n      when isa.asyncfunction candidate\n        try\n          ctx = new _Assumptions @, upref\n          await candidate.call ctx, ctx\n        catch error\n          ref     = ( j upref, 'Ωgt___8' )\n          message = \"an unexpected error occurred when calling task #{rpr ref}; #{rpr error.message}\"\n          @fail ref, 'error', message\n          if @cfg.throw_on_error\n            error.message = message; throw error\n      #.....................................................................................................\n      when isa.object candidate\n        for key, property of candidate\n          await @_async_test_inner ( j upref, key ), property\n      #.....................................................................................................\n      else\n        ref = ( j upref, @_ref_from_function candidate )\n        @fail ref, 'type', \"expected a test, got a #{type_of candidate}\"\n    #.......................................................................................................\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  _report: ->\n    { blue\n      red\n      gold    } = GUY.trm\n    line        = gold '—————————————————————————————————————————————————————————————————'\n    #.......................................................................................................\n    show_totals = =>\n      whisper 'Ωgt___9 ' + @cfg.prefix, line\n      whisper 'Ωgt__10 ' + @cfg.prefix, reverse GUY.trm[ color ] ( '*'.padEnd 20 ), @totals\n      whisper 'Ωgt__11 ' + @cfg.prefix, line\n      return null\n    #.......................................................................................................\n    whisper()\n    whisper 'Ωgt__12 ' + @cfg.prefix, line\n    whisper 'Ωgt__13 ' + @cfg.prefix, gold '                        🙤 GUY TEST 🙦'\n    whisper 'Ωgt__14 ' + @cfg.prefix, line\n    color = if @totals.fails is 0 then 'lime' else 'red'\n    for key, stats of @stats\n      continue if key is '*'\n      whisper 'Ωgt__15 ' + @cfg.prefix, blue ( key.padEnd 20 ), stats\n    show_totals()\n    repeat_totals = false\n    for sub_ref, messages of @warnings\n      repeat_totals = true\n      for message in messages\n        whisper 'Ωgt__16 ' + @cfg.prefix, ( red sub_ref ), reverse red \" #{message} \"\n    show_totals() if repeat_totals\n    whisper()\n    #.......................................................................................................\n    return @stats\n\n  #---------------------------------------------------------------------------------------------------------\n  _increment_passes:  ( check_ref ) -> @_increment 'passes', check_ref\n  _increment_fails:   ( check_ref ) -> @_increment 'fails',  check_ref\n\n  #---------------------------------------------------------------------------------------------------------\n  _increment: ( pass_or_fail, check_ref ) ->\n    per_check_stats = @stats[ check_ref ] ?= create.gt_stats()\n    per_check_stats[  pass_or_fail ]++\n    @totals[          pass_or_fail ]++\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  _warn: ( ref, message ) ->\n    ( @warnings[ ref ] ?= [] ).push ( message ? './.' )\n    return null\n\n  #---------------------------------------------------------------------------------------------------------\n  _ref_from_function: ( f ) ->\n    R = 'anon' if ( R = f.name ) is ''\n    # throw new Error \"^992-1^ test method should be named, got #{rpr f}\" if ( R = f.name ) is ''\n    return R\n\n\n\n#===========================================================================================================\n# SET EQUALITY BY VALUE\n#-----------------------------------------------------------------------------------------------------------\nequals = ( a, b, cfg ) ->\n  cfg = _create_equals_cfg cfg\n  ### NOTE these comparisons disregard sign of zero ###\n  return true if ( not cfg.signed_zero ) and ( a is 0 ) and ( b is 0 )\n  return false unless ( type_of_a = type_of a ) is ( type_of b )\n  if ( type_of_a is 'set' )\n    return _ordered_sets_or_maps_are_equal    a, b, cfg if cfg.ordered_sets\n    return _unordered_sets_or_maps_are_equal  a, b, cfg\n  if ( type_of_a is 'map' )\n    return _ordered_sets_or_maps_are_equal    a, b, cfg if cfg.ordered_maps\n    return _unordered_sets_or_maps_are_equal  a, b, cfg\n  R = _jkequals a, b\n  #.........................................................................................................\n  ### TAINT this repeats work already done by _jkequals and should be implemented in that module ###\n  if R and cfg.ordered_objects and ( _jktypeof a ) is 'object'\n    return _jkequals ( k for k of a when k isnt 'constructor' ), ( k for k of b when k isnt 'constructor' )\n  #.........................................................................................................\n  return R\n#...........................................................................................................\n_set_or_map_contains = ( set_or_map, element, cfg ) ->\n  for element_2 from set_or_map\n    if equals element_2, element, cfg\n      return true\n  return false\n#...........................................................................................................\n_ordered_sets_or_maps_are_equal = ( a, b, cfg ) ->\n  ### TAINT only use if both a, b have same type and type is `set` or `map` ###\n  return false unless a.size is b.size\n  idx = -1\n  entries_of_b = [ b..., ]\n  for element from a\n    idx++\n    return false unless equals element, entries_of_b[ idx ], cfg\n  return true\n#...........................................................................................................\n_unordered_sets_or_maps_are_equal = ( a, b, cfg ) ->\n  ### TAINT only use if both a, b have same type and type is `set` or `map` ###\n  return false unless a.size is b.size\n  for element from a\n    return false unless _set_or_map_contains b, element, cfg\n  return true\n#...........................................................................................................\n_create_equals_cfg = ( cfg ) ->\n  return R if ( R = _known_equals_cfgs.get cfg )?\n  _known_equals_cfgs.set cfg, R = create.equals_cfg cfg\n  return R\n#...........................................................................................................\n_known_equals_cfgs = new Map()\n\n\n#===========================================================================================================\nmodule.exports = { Test, _Assumptions, equals, _types: types, }\n"
  ]
}